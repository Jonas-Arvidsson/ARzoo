<html>

<head>
  <meta charset="utf-8">
  <title>Mission Mars</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v2.0.0/dist/aframe-physics-system.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>

  <!-- socket.io -->
  <script src="/socket.io/socket.io.js"></script>

  <!-- Game logic -->
  <script src="js/script.js"></script>
</head>

<body>
  <a-scene physics="debug: true; friction: 0.0; restitution: 0.0">

    <!-- Asset managment system. -->
    <a-assets>
				
			<!-- Sky box -->
      <img
				id="skyTexture"
				src="assets/mars_skybox.jpg">
			</img>
			
			<!-- Landscape -->
			<a-asset-item
				id="marsLandscapeObj"
				src="assets/mars_landscape/mars_landscape.obj">
			</a-asset-item>
			<img
				id="marsSandTex" 
				src="assets/mars_landscape/mars_sand.png">
			</img>

			<!-- Rover -->
			<a-asset-item
				id="roverObj"
				src="assets/mars_rover/scene.gltf">
			</a-asset-item>
    </a-assets>

    <!-- Sky -->
    <a-sky 
			src="#skyTexture"
			radius="10000">
		</a-sky>

    <!-- Ground -->
    <a-entity 
			obj-model="obj: #marsLandscapeObj"
			material="src: #marsSandTex; repeat: 100 100">
    	<a-box 
				id="ground"
				width="100"
				depth="100"
				static-body
				material="opacity: 0">
			</a-box>
		</a-entity>

    <!-- Static boxes -->
    <a-box color="blue" position="5 0.5 -5" static-body></a-box>
    <a-box color="blue" position="3 0.5 4" static-body></a-box>
    <a-box color="blue" position="-2 0.5 -1" static-body></a-box>

    <!-- Dynamic boxes -->
    <a-box color="green" position="4 0.5 -3" dynamic-body></a-box>
    <a-box color="green" position="1 0.5 2" dynamic-body></a-box>
    <a-box color="green" position="-3 0.5 4" dynamic-body></a-box>

    <!-- Rover / camera -->
    <a-box 
			id="rover" 
			dynamic-body="mass: 150; shape: box"
			position="0 2 0"
			rover-controls>
      <a-entity
				id="camera"
				camera="far: 11000; user-height: 1.6"
				look-controls>
			</a-entity>
    </a-box>

    <!-- Light -->
    <a-light type="ambient" intensity="0.5" color="#f2cd79"></a-light>
    <a-light type="point" intensity="1" position="0 30 0"></a-light>

  </a-scene>
</body>

</html>
