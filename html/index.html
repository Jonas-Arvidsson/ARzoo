<html>

<head>
    <meta charset="utf-8">
    <title>Mission Mars</title>

    <!-- A-Frame -->
    <script src="lib/aframe-v0.7.1.min.js"></script>
    <script src="lib/aframe-physics-system.min.js"></script>

    <!-- socket.io -->
    <script src="/socket.io/socket.io.js"></script>

    <!-- Game logic -->
    <script src="js/script.js"></script>
</head>

<body>
    <a-scene physics="friction: 0.0; restitution: 0.0" track-collisions>

        <!-- Asset managment system. -->
        <a-assets>

            <!-- Sky box -->
            <img id="skyTexture" src="assets/textures/skybox.jpg">
            </img>

            <!-- Landscape -->
            <a-asset-item id="landscapeObj" src="assets/objects/landscape.obj">
            </a-asset-item>
            <a-asset-item id="landscapeMtl" src="assets/objects/landscape.mtl">
            </a-asset-item>

			<!-- Rover -->
			<a-asset-item 
                id="roverObj" 
                src="assets/objects/rover.obj">
			</a-asset-item>
			<a-asset-item 
                id="roverMtl" 
                src="assets/objects/rover.mtl">
			</a-asset-item>

            <!-- Rock -->
            <a-asset-item
                id="rockObj"
                src="assets/objects/rock.obj">
            </a-asset-item>
            <a-asset-item
                id="rockMtl"
                src="assets/objects/rock.mtl">
            </a-asset-item>
		</a-assets>

        <!-- Sky -->
        <a-sky 
            src="#skyTexture" 
            radius="10000"
            rotation="0 90 0">
        </a-sky>

        <!-- Ground -->
        <a-entity 
            obj-model="obj: #landscapeObj; mtl: #landscapeMtl">
            <a-box 
                id="ground" 
                width="1000" 
                depth="1000" 
                material="opacity: 0"
                static-body>
            </a-box>
        </a-entity>

        <!-- Sand collision entities -->
        <a-cylinder id="sand" position="29.306 2.5 -24.232" scale="23 5 23" visible="false" segments-radial="16" static-body="shape: cylinder">
        </a-cylinder>
        <a-cylinder id="sand" position="13.387 2.5 -40.932" scale="42 5 42" visible="false" segments-radial="16" static-body="shape: cylinder">
        </a-cylinder>
        <a-cylinder id="sand" position="-22.628 2.5 -36.403" scale="32 5 32" visible="false" segments-radial="16" static-body="shape: cylinder">
        </a-cylinder>

        <!-- Rocks -->

        <a-cylinder 
            id="rocks" 
            position="1.288 2.5 18.357" 
            rotation="0 -10.313 0" 
            scale="27 5 27" 
            segments-radial="12" 
            visible="false"
            static-body="shape:cylinder">
        </a-cylinder>
        <a-cylinder 
            id="rocks" 
            position="-216.214 2.5 62.475" 
            rotation="0 -10.313 0" 
            scale="100 5 100" 
            segments-radial="12" 
            visible="false"
            static-body="shape:cylinder">
        </a-cylinder>
        <a-box 
            id="rocks" 
            position="106.041 2.5 155.523" 
            scale="121.778 5 61.841" 
            visible="false"
            static-body>
        </a-box>
        <a-box 
            id="rocks" 
            position="7.317 2.5 158.312" 
            scale="79.594 5 32.05" 
            visible="false"
            static-body
            rotation="0 62.05132921266815 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="50.825 2.5 67.383" 
            scale="142.809 5 32.05" 
            visible="false"
            static-body
            rotation="0 111.55488271197129 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="-129.839 2.5 166.969" 
            scale="52.765 5 17.273" 
            visible="false"
            static-body
            rotation="0 112.35702362515444 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="93.202 2.5 126.849" 
            scale="52.765 5 17.273" 
            visible="false"
            static-body
            rotation="0 158.65201347172496 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="-21.816 2.5 184.103" 
            scale="52.765 5 17.273" 
            visible="false"
            static-body
            rotation="0 -138.0828286265284 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="158.877 2.5 125.377" 
            scale="52.765 5 17.273" 
            visible="false"
            static-body
            rotation="0 -138.0828286265284 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="168.955 2.5 -123.988" 
            scale="52.765 5 53.712" 
            visible="false"
            static-body
            rotation="0 126.91015162147734 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="11.031 2.5 47.548" 
            scale="52.765 5 17.273" 
            visible="false"
            static-body
            rotation="0 132.69702535229865 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="-22.76 2.5 5.428" 
            scale="14.622 5 22.689" 
            visible="false"
            static-body>
        </a-box>
        <a-box 
            id="rocks" 
            position="31.361 2.5 111.122" 
            scale="48.702 5 147.635" 
            visible="false"
            static-body
            rotation="0 -0.2864788975654116 0">
        </a-box>
        <a-box 
            id="rocks" 
            position="-4.968 2.5 319.262" 
            scale="1009.29 42.685 269.867" 
            visible="false"
            static-body>
        </a-box>
        <a-box 
            id="rocks" 
            position="-325.915 2.5 64.718" 
            scale="387.766 39.337 269.867" 
            visible="false"
            static-body>
        </a-box>
        <a-box 
            id="rocks" 
            position="334.548 2.5 14.923" 
            scale="343.136 39.337 345.031" 
            visible="false"
            static-body>
        </a-box>
        <a-box 
            id="rocks" 
            position="222.328 2.5 -314.919" 
            scale="561.975 39.337 369.796" 
            visible="false"
            static-body>
        </a-box>
        
        <!-- Landscape collision entities -->
        
        <a-cylinder id="landscape" position="10.74 2.5 6.02" rotation="0 -10.313240312354818 0" scale="13.1 5 13.1" visible="false" segments-radial="12" static-body="shape: cylinder">
        </a-cylinder>
        <a-cylinder id="landscape" position="-9.89 2.5 8.881" rotation="0 15.699043586584558 0" scale="13.1 5 13.1" visible="false" segments-radial="12" static-body="shape: cylinder">
        </a-cylinder>
        <a-cylinder id="landscape" position="-4.557 2.5 -9.305" rotation="0 12.662367272391194 0" scale="13.1 5 13.1" visible="false" segments-radial="16" static-body="shape: cylinder">
        </a-cylinder>
        <a-box id="landscape" position="-4.748 2.5 21.11" scale="14.24 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="9.056 2.5 19.137" rotation="0 16.157409822689214 0" scale="14.24 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="23.147 2.5 -2.643" rotation="0 89.49600759943459 0" scale="21.145 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="19.272 2.5 -17.657" rotation="0 130.34789839226227 0" scale="12.604 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="5.316 2.5 -21.952" rotation="0 -178.07528272665988 0" scale="20.521 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-18.551 2.5 -9.897" rotation="0 -122.61296815799618 0" scale="13.215 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-22.04 2.5 1.96" rotation="0 -90.18355695359158 0" scale="13.215 5 1" visible="false" static-body>
        </a-box>

        <a-box id="landscape" position="-12.695 2.5 82.686" rotation="0 -90.18355695359158 0" scale="18.763 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-14.739 2.5 100.936" rotation="0 -102.1010790923127 0" scale="18.763 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-20.135 2.5 113.585" rotation="0 -139.57251889386853 0" scale="9.369 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-29.85 2.5 118.217" rotation="0 -164.09511252546775 0" scale="13.906 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-43.374 2.5 119.977" rotation="0 179.67956455302618 0" scale="15.61 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-52.526 2.5 113.682" rotation="0 106.16907943774154 0" scale="13.514 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-53.243 2.5 102.955" rotation="0 69.0414143132642 0" scale="8.907 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-49.016 2.5 96.164" rotation="0 46.52417296462285 0" scale="8.907 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-45.046 2.5 88.826" rotation="0 63.02535746439056 0" scale="13.144 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-37.137 2.5 77.265" rotation="0 48.586821027093805 0" scale="15.338 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-24.774 2.5 70.35" rotation="0 9.396507840145501 0" scale="15.338 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-15.029 2.5 71.363" rotation="0 -45.7220320514397 0" scale="7.128 5 1" visible="false" static-body>
        </a-box>

        <a-cylinder id="landscape" position="-11.036 2.5 -80.86" rotation="0 -10.313 0" scale="10.384 3.963 10.384" visible="false" segments-radial="12" static-body="shape: cylinder">
        </a-cylinder>
        <a-cylinder id="landscape" position="-16.949 2.5 -80.893" rotation="0 -10.313 0" scale="10.384 3.963 10.384" visible="false" segments-radial="12" static-body="shape: cylinder">
        </a-cylinder>
        <a-cylinder id="landscape" position="-45.628 2.5 -49.257" rotation="0 -10.313 0" scale="13.1 5 13.1" visible="false" segments-radial="12" static-body="shape: cylinder">
        </a-cylinder>
        <a-cylinder id="landscape" position="-54.122 2.5 -55.721" rotation="" scale="4.999 5 4.999" visible="false" segments-radial="12" static-body="shape: cylinder">
        </a-cylinder>
        <a-box id="landscape" position="-17.602 2.5 -61.752" rotation="0 44.576116461178046 0" scale="47.076 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-41.623 2.5 -70.06" rotation="0 51.394314223234844 0" scale="22.104 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-29.652 2.5 -83.133" rotation="0 40.90918657234078 0" scale="13.753 5 1" visible="false" static-body>
        </a-box>

        <a-box id="landscape" position="-73.001 2.5 -125.883" rotation="0 46.52417296462285 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-46.656 2.5 -161.664" rotation="0 60.56163894532801 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-29.87 2.5 -203.065" rotation="0 75.40124583921634 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-24.778 2.5 -247.299" rotation="0 91.50135988239246 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-28.593 2.5 -291.983" rotation="0 98.14767030591003 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-43.039 2.5 -333.973" rotation="0 119.9200665208813 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-66.428 2.5 -372.596" rotation="0 122.2118977014046 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-95.163 2.5 -407.084" rotation="0 137.56716661091065 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-131.729 2.5 -433.036" rotation="0 151.54733681210274 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-173.881 2.5 -446.681" rotation="0 172.74677523194322 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-106.678 2.5 -97.38" rotation="0 33.86180569223165 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-145.379 2.5 -74.599" rotation="0 27.2154952687141 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-186.844 2.5 -57.541" rotation="0 17.53250853100319 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-230.634 2.5 -47.445" rotation="0 8.193296470370772 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-275.568 2.5 -43.899" rotation="0 0.8594366926962348 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-320.176 2.5 -47.887" rotation="0 -11.000789666511807 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-362.883 2.5 -61.686" rotation="0 -24.809072529164645 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-400.641 2.5 -85.122" rotation="0 -38.78924273035673 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>
        <a-box id="landscape" position="-431.141 2.5 -117.777" rotation="0 -54.832060994019784 0" scale="45.198 5 1" visible="false" static-body>
        </a-box>

        <!-- Goal -->
        <a-cylinder id="goal" position="93.91 1 -91.9" scale="10 1 10" color="hsl(120, 70%, 70%)" material="opacity: 0.7" static-body="shape: cylinder">
        </a-cylinder>

        <!-- Light -->
        <a-light type="ambient" intensity="0.5" color="#f2cd79"></a-light>
        <a-light type="point" intensity="1" position="-9000 5315 1430"></a-light>

		<!-- Rover / camera -->
        <a-box
            id="rover"
			position="-87.4 1.25 149.5" 
	 		rotation="0 -30 0"
			dynamic-body
			rover-controls>
		    <a-entity 
                obj-model="obj: #roverObj; mtl: #roverMtl"
                rotation="0 180 0">
            </a-entity> 
			<a-entity 
                id="camera" 
                camera
                position="0.13 1.18 -0.56"
				look-controls>
			</a-entity>
		</a-box>

        <a-entity 
            id="landscape" 
            position="-68.272 0 143.282" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-55.07 0 84.929" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-105.123 0 136.463" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-97.129 0 157.64" scale="1.101 0.902 1" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-109.132 0 149.094" scale="1.101 0.902 1" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-79.802 0 132.432" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-84.288 0 152.746" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-62.031 0 105.7" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-69.966 0 91.264" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-76.124 0 106.859" scale="1.604 1.211 1" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-76.69 0 81.185" scale="1.604 1.211 1.442" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-53.139 0 132.432" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-56.772 0 151.114" scale="6.052 1 3.644" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-88.137 0 108.469" scale="2.464 2.863 3.777" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-101.203 0 115.268" scale="2.464 2.863 3.777" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-53.139 0 165.7" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-61.686 0 148.995" scale="0.89 0.225 0.603" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-65.408 0 165.7" scale="2.057 1.336 1" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-57.18 0 138.969" scale="2.057 1.336 1" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-59.083 0 125.525" scale="2.057 1.366 2.486" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-67.432 0 142.009" scale="1 0.931 1.365" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>
        <a-entity 
            id="landscape" 
            position="-67.432 0 142.009" scale="1 0.931 1.365" 
            obj-model="obj: #rockObj; mtl: #rockMtl" 
            static-body>
        </a-entity>

    </a-scene>
</body>

</html>
